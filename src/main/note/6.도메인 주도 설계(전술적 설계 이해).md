6.ë„ë©”ì¸ ì£¼ë„ ì„¤ê³„(ì „ìˆ ì  ì„¤ê³„ ì´í•´)
=========================
## â­•ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ êµ¬í˜„ íŒ¨í„´
- íŠ¸ëœì­ì…˜ ìŠ¤í¬ë¦½íŠ¸ íŒ¨í„´
- ì•¡í‹°ë¸Œ ë ˆì½”ë“œ íŒ¨í„´
- ë„ë©”ì¸ ëª¨ë¸ íŒ¨í„´
- ì• ê·¸ë¦¬ê±°íŠ¸ íŒ¨í„´
- ì´ë²¤íŠ¸ ì†Œì‹± ëª¨ë¸

## â­• íŠ¸ëœì­ì…˜ ìŠ¤í¬ë¦½íŠ¸ íŒ¨í„´
íŠ¸ëœì­ì…˜ ìŠ¤í¬ë¦½íŠ¸ íŒ¨í„´ì€ ê°„ë‹¨í•œ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ì„ êµ¬í˜„í•  ë•Œ ì‚¬ìš©ë˜ëŠ” íŒ¨í„´ìœ¼ë¡œ ì£¼ë¡œ ë‹¨ìˆœí•œ CRUD ì‘ì—…ì— ì í•©í•˜ë‹¤.
ì´ íŒ¨í„´ì€ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ì„ ë‹¨ì¼ í”„ë¡œì‹œì €ë‚˜ ë©”ì†Œë“œë¡œ êµ¬í˜„í•˜ì—¬ ë°ì´í„°ë² ì´ìŠ¤ íŠ¸ëœì­ì…˜ì„ ê´€ë¦¬í•œë‹¤.
- ê°„ë‹¨í•œ ë¹„ì§€ë‹ˆìŠ¤ ë¡œì§ êµ¬í˜„ì˜ ê²½ìš°
- ì ˆì°¨ ì§€í–¥ ìŠ¤í¬ë¦½íŠ¸ë¡œ êµ¬í˜„, ë°ì´í„° ë² ì´ìŠ¤ ì§ì ‘ ì ‘ê·¼ë„ ê°€ëŠ¥
- ê° ì‘ì—…ì€ ì„±ê³µí•˜ê±°ë‚˜ ì‹¤íŒ¨í•  ìˆ˜ ìˆì§€ë§Œ ìœ íš¨í•˜ì§€ ì•ŠëŠ” ìƒíƒœë¡œ ë§Œë“¤ë©´ ì•ˆëœë‹¤ 
- ë‹¨ìˆœí•œ ì§€ì› í•˜ìœ„ ë„ë©”ì¸, ì—°ë™ ì–´ëŒ‘í„°, ì¶©ëŒ ë°©ì§€ ê³„ì¸µ
- ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ì´ ë³µì¡í• ìˆ˜ë¡ íŠ¸ëœì­ì…˜ê°„ ë¹„ì¦ˆë‹ˆì¦ˆ ë¡œì§ì´ ì¤‘ë³µë˜ê¸° ì‰½ê³  ê²°ê³¼ì ìœ¼ë¡œ ì¤‘ë³µëœ ì½”ë“œê°€ ë™ê¸°í™” ë˜ì§€ ì•Šìœ¼ë©´ ì¼ê´€ì„± ì—†ëŠ” ë™ì‘ì´ ë°œìƒë¨
-> ìœ ì§€ë³´ìˆ˜ê°€ ë¶ˆê°€ëŠ¥í•œ ê±°ëŒ€í•œ ì§„í™ ë©ì–´ë¦¬ê°€ ë  ê°€ëŠ¥ì„± ë†’ìŒ
- í•µì‹¬ í•˜ìœ„ ë„ë©”ì¸ì—ëŠ” ì‚¬ìš©í•˜ì§€ ì•ŠëŠ” ê²ƒì´ ì¢‹ë‹¤.

<img src="../resources/images/íŠ¸ëœì­ì…˜ ìŠ¤í¬ë¦½íŠ¸ íŒ¨í„´.png" alt="íŠ¸ëœì­ì…˜ ìŠ¤í¬ë¦½íŠ¸ íŒ¨í„´" style="width: 100%; height: auto;" />

### â—‰ ì¥ì 
- ì´í•´í•˜ê¸° ì‰½ê³  êµ¬í˜„ì´ ê°„ë‹¨ 
- ì‘ì€ í”„ë¡œì íŠ¸ì— ì í•© 
- ë””ë²„ê¹…ì´ ìš©ì´

### â—‰ ë‹¨ì 
- ë³µì¡í•œ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ì—ëŠ” ë¶€ì í•©
- ì½”ë“œ ì¬ì‚¬ìš©ì´ ì–´ë ¤ì›€
- ìœ ì§€ë³´ìˆ˜ê°€ í˜ë“¤ì–´ì§ˆ ìˆ˜ ìˆìŒ

### â—‰ ì˜ˆì œ
```text
ì£¼ë¬¸ ì²˜ë¦¬ ìŠ¤í¬ë¦½íŠ¸() {
  1. ì‚¬ìš©ì ì •ë³´ í™•ì¸
  2. ìƒí’ˆ ì¬ê³  í™•ì¸  
  3. ì¬ê³  ì°¨ê°
  4. ì£¼ë¬¸ ìƒì„±
  5. ê²°ì œ ì²˜ë¦¬
  6. ë°°ì†¡ ì •ë³´ ë“±ë¡
  
  // ì¤‘ê°„ì— ì‹¤íŒ¨í•˜ë©´ ëª¨ë“  ì‘ì—… ë¡¤ë°±
}
```

## â­•ì•¡í‹°ë¸Œ ë ˆì½”ë“œ íŒ¨í„´
ì•¡í‹°ë¸Œ ë ˆì½”ë“œ íŒ¨í„´ì€ ê°ì²´ ì§€í–¥ í”„ë¡œê·¸ë˜ë°ì—ì„œ ë°ì´í„°ë² ì´ìŠ¤ì˜ í…Œì´ë¸”ì„ ê°ì²´ë¡œ ë§¤í•‘í•˜ì—¬ CRUD ì‘ì—…ì„ ìˆ˜í–‰í•˜ëŠ” íŒ¨í„´ì´ë‹¤.
- ë¹„ì§€ë‹ˆìŠ¤ ë¡œì§ì´ ë‹¨ìˆœí•œ ê²½ìš°
- Active Record ë¼ëŠ” ì „ìš© ê°ì²´ë¥¼ ì‚¬ìš©í•˜ì—¬ ë³µì¡í•œ ìë£Œ êµ¬ì¡°ë¥¼ í‘œí˜„, ìë£Œ êµ¬ì¡° ì™¸ì—ë„ CRUD êµ¬í˜„,ORM ì—°ê³„
- ì¦‰ Active Record ëŠ” ë°ì´í„° ì ‘ê·¼ ë¡œì§ êµ¬í˜„
- Entity ì— ì•½ê°„ì˜ ë¹„ì¦ˆ ë¡œì§ í¬í•¨ ê°€ëŠ¥í•˜ì§€ë§Œ ëŒ€ë¶€ë¶„ì˜ ë¹„ì§€ë‹ˆìŠ¤ë¡œì§ ë° íë¦„ì€ ì‘ìš©ì„œë¹„ìŠ¤ì˜ í–‰ìœ„ì— ì˜í•´ ì²˜ë¦¬ë¨
- Anemic Domain Model (ë¹ˆì•½í•œ ë„ë©”ì¸ ëª¨ë¸)
- ë³¸ì§ˆì ìœ¼ë¡œëŠ” ë°ì´í„°ë² ì´ìŠ¤ ì ‘ê·¼ì„ ìµœì í™”í•˜ëŠ” Transaction Script íŒ¨í„´ì˜ ìœ í˜•
- ëª¨ë¸ì— ìˆëŠ” ë¡œì§ì€ ì‚¬ìš©ì ì…ë ¥ì˜ ìœ íš¨ì„±ì„ ê²€ì‚¬í•˜ëŠ” CRUDì‘ì—…ê³¼ ê°™ì€ ë¹„êµì  ê°„ë‹¨í•œ ë¹„ì¦ˆë¡œì§
- ì§€ì› í•˜ìœ„ ë„ë©”ì¸, ì¼ë°˜ í•˜ìœ„ ë„ë©”ì¸ì— ì í•©
- ë¹„ì¦ˆ ë¡œì§ì€ ë‹¨ìˆœí•˜ì§€ë§Œ ë³µì¡í•œ ìë£Œ êµ¬ì¡°ì¸ ê²½ìš°

<img src="../resources/images/ì•¡í‹°ë¸Œ ë ˆì½”ë“œ íŒ¨í„´.png" alt="ì•¡í‹°ë¸Œ ë ˆì½”ë“œ íŒ¨í„´" style="width: 100%; height: auto;" />

### â—‰ ì¥ì 
- êµ¬í˜„ì´ ì§ê´€ì ì´ê³  ì´í•´í•˜ê¸° ì‰¬ì›€
- ë¹ ë¥¸ ê°œë°œê³¼ í”„ë¡œí† íƒ€ì… ì œì‘ì— ì í•©
- ë‹¨ìˆœí•œ CRUD ì‘ì—…ì— íš¨ìœ¨ì 
- ORM í”„ë ˆì„ì›Œí¬ ì§€ì›ìœ¼ë¡œ ê°œë°œ ìƒì‚°ì„± í–¥ìƒ
- ë°ì´í„°ì™€ í–‰ìœ„ê°€ í•œ ê³³ì— ëª¨ì—¬ ìˆì–´ ì‘ì§‘ë„ê°€ ë†’ìŒ

### â—‰ ë‹¨ì 
- ë³µì¡í•œ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ êµ¬í˜„ì— ë¶€ì í•©
- ë°ì´í„°ë² ì´ìŠ¤ ìŠ¤í‚¤ë§ˆ ë³€ê²½ ì‹œ ì˜í–¥ ë²”ìœ„ê°€ í¼
- í…ŒìŠ¤íŠ¸ê°€ ì–´ë ¤ì›€ (ë°ì´í„°ë² ì´ìŠ¤ ì˜ì¡´ì„±)
- ë¹ˆì•½í•œ ë„ë©”ì¸ ëª¨ë¸ì´ ë˜ê¸° ì‰¬ì›€
- ëŒ€ê·œëª¨ ì‹œìŠ¤í…œì—ì„œ ìœ ì§€ë³´ìˆ˜ ì–´ë ¤ì›€

### â—‰ ì˜ˆì œ
``` kotlin
class Order {
    var customerId: Long = 0
    var productId: Long = 0
    var amount: Double = 0.0
    
    fun save() {
        // ë°ì´í„°ë² ì´ìŠ¤ì— ì €ì¥ ë¡œì§
    }
}

class CreateOrder {
    fun execute(orderDetails: OrderDetails) {
        try {
            db.startTransaction()
            
            val order = Order()
            order.customerId = orderDetails.customerId
            order.productId = orderDetails.productId
            order.amount = orderDetails.amount
            order.save()
            
            db.commit()
        } catch (e: Exception) {
            db.rollback()
            throw e
        }
    }
}
```

## â­•ë„ë©”ì¸ ëª¨ë¸ íŒ¨í„´
ë„ë©”ì¸ ëª¨ë¸ íŒ¨í„´ì€ ë¹„ì¦ˆë‹ˆìŠ¤ ë„ë©”ì¸ì„ ê°ì²´ë¡œ ëª¨ë¸ë§í•˜ì—¬ ë³µì¡í•œ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ì„ í‘œí˜„í•˜ëŠ” íŒ¨í„´ì´ë‹¤.
- ë„ë©”ì¸ ëª¨ë¸ì€ í–‰ìœ„ + ìë£Œêµ¬ì¡°ë¥¼ í†µí•´ ë¹„ì§€ë‹ˆìŠ¤ ë¡œì§ êµ¬í˜„
- POJOë¡œ êµ¬ì„± : ì´ë¯¸ ë³¸ì§ˆì ìœ¼ë¡œ ë³µì¡í•˜ë¯€ë¡œ ì¸í”„ë¼, ê¸°ìˆ ì  ê´€ì‹¬ì‚¬ë¥¼ í”¼í•´ì•¼ í•¨
- ì‘ìš©ì„œë¹„ìŠ¤ì—ì„œëŠ” ëŒ€ë¶€ë¶„ ì—…ë¬´ íë¦„ ì œì–´ë§Œ í•˜ë©° ì£¼ìš” ë¹„ì§€ë‹ˆìŠ¤ ë¡œì§ì€ ë„ë©”ì¸ ëª¨ë¸ì— ìœ„ì„í•˜ì—¬ ì²˜ë¦¬

<img src="../resources/images/ë„ë©”ì¸ ëª¨ë¸ íŒ¨í„´.png" alt="ë„ë©”ì¸ ëª¨ë¸ íŒ¨í„´" style="width: 100%; height: auto;" />

### â—‰ ì¥ì 
- ë³µì¡í•œ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ì„ ê°ì²´ì§€í–¥ì ìœ¼ë¡œ í‘œí˜„ ê°€ëŠ¥ 
- ë„ë©”ì¸ ì§€ì‹ì´ ì½”ë“œì— ëª…í™•íˆ í‘œí˜„ë˜ì–´ ìœ ì§€ë³´ìˆ˜ì„± í–¥ìƒ 
- ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ ì‘ì„±ì´ ìš©ì´í•¨ (ì¸í”„ë¼ ì˜ì¡´ì„± ìµœì†Œí™”)

### â—‰ ë‹¨ì 
- ì´ˆê¸° ì„¤ê³„ ë¹„ìš©ì´ ë†’ìŒ (ë„ë©”ì¸ ë¶„ì„ ë° ëª¨ë¸ë§ í•„ìš”)
- ë‹¨ìˆœí•œ CRUD ì‘ì—…ì—ëŠ” ê³¼ë„í•œ ë³µì¡ì„± ì´ˆë˜
- ê°œë°œìì˜ ë†’ì€ ê°ì²´ì§€í–¥ ì„¤ê³„ ì—­ëŸ‰ ìš”êµ¬

## â­• ì• ê·¸ë¦¬ê±°íŠ¸ íŒ¨í„´
- ë„ë©”ì¸ ëª¨ë¸ íŒ¨í„´ ì ìš© ì‹œ ë„ë©”ì¸ ëª¨ë¸ì´ ì ì  ë³µì¡í•˜ê³  ë¹„ëŒ€í•´ì§
- ì´ì— ê·¸ ë³µì¡ì„±ì„ ê´€ë¦¬í•  ë‹¨ìœ„ë¥¼ êµ¬ë¶„í•´ ëƒ„ (ë„ë©”ì¸ ì£¼ë„ì˜ Aggregate)
- ëŒ€ë¶€ë¶„ í•œê°œì˜ Entityì™€ ì—¬ëŸ¬ê°œì˜ VOêµ¬ì„±

<img src="../resources/images/ë„ë©”ì¸%20ì£¼ë„%20ì„¤ê³„ì˜%20ì• ê·¸ë¦¬ê±°íŠ¸%20íŒ¨í„´.png" alt="ë„ë©”ì¸ ì£¼ë„ ì„¤ê³„ì˜ ì• ê·¸ë¦¬ê±°íŠ¸ íŒ¨í„´" style="width: 100%; height: auto;" />

### â—‰ ì¥ì 
- ë„ë©”ì¸ ëª¨ë¸ì˜ ë³µì¡ì„±ì„ ë…¼ë¦¬ì  ë‹¨ìœ„ë¡œ ë¶„í• í•˜ì—¬ ê´€ë¦¬
- íŠ¸ëœì­ì…˜ ì¼ê´€ì„± ê²½ê³„ë¥¼ ëª…í™•íˆ ì •ì˜
- ì• ê·¸ë¦¬ê±°íŠ¸ ë£¨íŠ¸ë¥¼ í†µí•œ ì ‘ê·¼ìœ¼ë¡œ ë¬´ê²°ì„± ë³´ì¥

### â—‰ ë‹¨ì 
- ì• ê·¸ë¦¬ê±°íŠ¸ ê²½ê³„ ì„¤ì •ì´ ì–´ë ¤ì›Œ ì˜ëª» ë‚˜ëˆ„ë©´ ì„±ëŠ¥ ì €í•˜
- ì• ê·¸ë¦¬ê±°íŠ¸ ê°„ ì°¸ì¡° ì œì•½ìœ¼ë¡œ êµ¬í˜„ ë³µì¡ë„ ì¦ê°€
- ì´ˆê¸° ì„¤ê³„ ì‹œ ë†’ì€ ë„ë©”ì¸ ì§€ì‹ê³¼ ê²½í—˜ í•„ìš”

### â—‰ ì• ê·¸ë¦¬ê±°íŠ¸ íŒ¨í„´ êµ¬ì„±ìš”ì†Œ - Value Object
Value Object(VO)ëŠ” ì‹ë³„ìê°€ ì—†ê³  ê°’ ìì²´ë¡œ ë™ë“±ì„±ì„ íŒë‹¨í•˜ëŠ” ë¶ˆë³€ ê°ì²´ì…ë‹ˆë‹¤.
- ì‹ë³„ì: ê°’ ìì²´ê°€ ì¤‘ìš”
- ë¶ˆë³€ì„±: ìƒì„± í›„ ë³€ê²½ ë¶ˆê°€
- ê°’ ë™ë“±ì„±: ëª¨ë“  ì†ì„± ê°’ì´ ê°™ìœ¼ë©´ ë™ì¼í•œ ê°ì²´
- DTOì™€ í—·ê°ˆë¦¬ì§€ ë§ ê²ƒ DTOëŠ” í”„ë ˆì  í…Œì´ì…˜ ê³„ì¸µê³¼ ë„ë©”ì¸ ê³„ì¸µì—ì„œ ì‚¬ìš©ë˜ëŠ” êµ¬ì¡°ì²´ ê°œë…

#### âœ¦ ì˜ˆì œ
```kotlin
data class Money(
    val amount: BigDecimal,
    val currency: String = "KRW"
)

data class Address(
    val zipCode: String,
    val city: String,
    val street: String
)

val price = Money(BigDecimal("10000"))
val address = Address("12345", "ì„œìš¸ì‹œ", "ê°•ë‚¨ëŒ€ë¡œ")
```

### â—‰ ì• ê·¸ë¦¬ê±°íŠ¸ íŒ¨í„´ êµ¬ì„±ìš”ì†Œ - Entity
EntityëŠ” ê³ ìœ í•œ ì‹ë³„ìë¥¼ ê°€ì§€ë©° ìƒëª…ì£¼ê¸° ë™ì•ˆ ìƒíƒœê°€ ë³€í•  ìˆ˜ ìˆëŠ” ê°€ë³€ ê°ì²´ì…ë‹ˆë‹¤.
- ëª¨ë“  ë„ë©”ì¸ì˜ í•„ìˆ˜ êµ¬ì„±ìš”ì†Œ
- ë„ë©”ì¸ì˜ ê³ ìœ  ê°œë… í‘œí˜„
- ìƒíƒœ ë³€ê²½ ê°€ëŠ¥ (ê°€ë³€ì„±)
- ìì‹ ì˜ ìƒëª…ì£¼ê¸°ì™€ í–‰ìœ„ë¥¼ ê°€ì§
- ë‹¤ë¥¸ ê°ì²´ì™€ êµ¬ë³„í•  ìˆ˜ ìˆëŠ” ì‹ë³„ì(ê³ ìœ  ì‹ë³„ì)ë¥¼ ê°–ëŠ” ê°ì²´
- DB Entityì™€ì˜ ì°¨ì´: ë°ì´í„°ì™€ í•¨ê»˜ ê¸°ëŠ¥(í–‰ìœ„)ì„ ì œê³µ

#### âœ¦ ì˜ˆì œ
```kotlin
class Product(
    val id: Long,
    var name: String,
    var price: Money
) {
    fun changePrice(newPrice: Money) {
        this.price = newPrice
    }
}

// ì‚¬ìš© ì˜ˆì œ
val product = Product(1L, "ë…¸íŠ¸ë¶", Money(BigDecimal("1500000")))
product.changePrice(Money(BigDecimal("1400000"))) // ìƒíƒœ ë³€ê²½ ê°€ëŠ¥

// ë™ë“±ì„± ë¹„êµ - IDë¡œë§Œ íŒë‹¨
val product1 = Product(1L, "ë…¸íŠ¸ë¶", Money(BigDecimal("1500000")))
val product2 = Product(1L, "ë§¥ë¶", Money(BigDecimal("2000000")))
```

<img src="../resources/images/ë„ë©”ì¸ ëª¨ë¸ ì˜ˆì‹œ.png" alt="ë„ë©”ì¸ ëª¨ë¸ ì˜ˆì‹œ" style="width: 100%; height: auto;" />

### â—‰ ì• ê·¸ë¦¬ê±°íŠ¸ íŒ¨í„´ êµ¬ì„±ìš”ì†Œ - ì• ê·¸ë¦¬ê±°íŠ¸
ì• ê·¸ë¦¬ê±°íŠ¸ëŠ” ë„ë©”ì¸ ëª¨ë¸ì˜ ë³µì¡ì„±ì„ ê´€ë¦¬í•˜ê¸° ìœ„í•´ ê´€ë ¨ëœ Entityì™€ Value Objectë¥¼ ê·¸ë£¹í™”í•œ ë‹¨ìœ„ì´ë‹¤.
- ê´€ë ¨ ê°ì²´ë¥¼ í•˜ë‚˜ë¡œ ë¬¶ì€ êµ°ì§‘
- AggregateëŠ” Entity, ëª©ì ì€ ë°ì´í„° ì¼ê´€ì„±ì„ ë³´í˜¸, ë°ì´í„° ë³€ê²½ ì‹œ Aggregate ë‹¨ìœ„ë¡œ ì²˜ë¦¬
- Aggregate Rootë¥¼ í†µí•´ Aggregate ë‚´ì˜ ë‹¤ë¥¸ Entity ë° VO ì ‘ê·¼
- ë°ì´í„° ë³€ê²½ì˜ ë‹¨ìœ„, íŠ¸ëœì­ì…˜ ë‹¨ìœ„ê°€ ë˜ëŠ” ì—°ê´€ëœ ê°ì²´ ë¬¶ìŒ

<img src="../resources/images/Aggregate.png" alt="Aggregate" style="width: 100%; height: auto;" />

#### âœ¦ ì„¤ê³„ ê³ ë ¤ì‚¬í•­
- í•˜ë‚˜ì˜ Transactionì—ì„œëŠ” í•˜ë‚˜ì˜ Aggregateë§Œ ìˆ˜ì •í•¨
- Transaction ì¼ê´€ì„±ê³¼ ì„±ê³µì„ ë³´ì¥í•˜ë„ë¡ Aggregate êµ¬ì„±ìš”ì†Œë“¤ì„ ì„¤ê³„í•´ì•¼ í•¨
- í•˜ë‚˜ì˜ ì¼ì„ ì˜ ìˆ˜í–‰í•  ìˆ˜ ìˆë„ë¡ ì‘ê²Œ ì„¤ê³„í•´ì•¼í•¨
- ì‘ê²Œ ì„¤ê³„í•  ìˆ˜ë¡ ì„±ëŠ¥ì´ ì¢‹ê³  í™•ì¥ì— ìš©ì´í•¨, ë³€ê²½ì‚¬í•­ Commití•  ë•Œ ë¬¸ì œë„ ê±°ì˜ ë°œìƒë˜ì§€ ì•ŠìŒ
- í•œ Aggregate ì—ì„œ ë‹¤ë¥¸ Aggregate ì˜ ì°¸ì¡°ëŠ” ì‹ë³„ìë¥¼ í†µí•´ì„œë§Œ ì°¸ì¡°í•´ì•¼ í•¨
- í•˜ë‚˜ì˜ Transaction ë‚´ì—ì„œ ì—¬ëŸ¬ ê°œì˜ Aggregate ì´ ìˆ˜ì •ë˜ëŠ” ê²ƒì„ ë°©ì§€í•  ìˆ˜ ìˆìŒ
- í•˜ë‚˜ì˜ Transactionì—ì„œ ì—¬ëŸ¬ ê°œì˜ Aggregateì´ ê°±ì‹ ë˜ì–´ì•¼ í•˜ëŠ” ê²½ìš° ë‹¤ë¥¸ Aggregate ì˜ ê°±ì‹ ì€ ë¹„ë™ê¸° í†µì‹ ì„ í™œìš©í•´ì„œ ê²°ê³¼ì  ì¼ê´€ì„±ì„ ë§ì¶°ì•¼ í•¨

##### â“ê²°ê³¼ì  ì¼ê´€ì„±
ì¼ê´€ì„±ì„ ìœ ì§€ì‹œì¼œì•¼ í•˜ëŠ” ë°ì´í„°ê°€ ì¼ì •ì‹œê°„ ë‹¤ë¥¸ ë°ì´í„°ì™€ ì¼ì¹˜ í•˜ì§€ ì•Šì„ ìˆ˜ë„ ìˆì§€ë§Œ ì–´ëŠ ì‹œì ì´ ë˜ë©´ ê²°êµ­ ì¼ì¹˜í•˜ê²Œ ëœë‹¤.

<img src="../resources/images/Aggregate ì‹ë³„ì ì°¸ì¡°.png" alt="Aggregate ì‹ë³„ì ì°¸ì¡°" style="width: 100%; height: auto;" />

#### âœ¦ íŠ¹ì§•
- ê° Aggregateì€ ì¼ê´€ì„± ìˆëŠ” Transaction ê²½ê³„ë¥¼ í˜•ì„±í•¨
- ì¦‰, Transaction ì œì–´ê°€ DBì— Commit ë  ë•Œ í•œ Aggregate ë‚´ì˜ ëª¨ë“  êµ¬ì„±ìš”ì†Œë“¤ì€ ë¹„ì¦ˆë‹ˆìŠ¤ ê·œì¹™ì„ ë”°ë¥´ë©´ì„œ ì¼ê´€ì„± ìˆê²Œ ì²˜ë¦¬ë˜ì–´ì•¼ í•¨

#### âœ¦ ë¬¸ì œì 
- ì‹œê°„ì´ ì§€ë‚ ìˆ˜ë¡ í•˜ìœ„ì˜ ê°ì²´ì˜ ì¸ìŠ¤í„´ìŠ¤ì˜ ì¦ê°€ê°€ ê²°êµ­ ì—„ì²­ë‚œ í¬ê¸°ë¡œ ë¶ˆì–´ë‚  ìˆ˜ ìˆìŒ
- ë”°ë¼ì„œ í•˜ë‚˜ì˜ ì¼ì„ ì˜ ìˆ˜í–‰í•  ìˆ˜ ìˆëŠ” ì‘ì€ Aggregateë¡œ ë¶„ë¦¬í•´ì•¼í•¨

### â—‰ ì• ê·¸ë¦¬ê±°íŠ¸ íŒ¨í„´ êµ¬ì„±ìš”ì†Œ - ë„ë©”ì¸ ì´ë²¤íŠ¸
ë„ë©”ì¸ ì´ë²¤íŠ¸ëŠ” ë„ë©”ì¸ ëª¨ë¸ì—ì„œ ë°œìƒí•œ ì¤‘ìš”í•œ ì‚¬ê±´ì„ ë‚˜íƒ€ë‚´ëŠ” ê°ì²´ë¡œ ì‹œìŠ¤í…œì˜ ìƒíƒœ ë³€í™”ë‚˜ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ì˜ ê²°ê³¼ë¥¼ í‘œí˜„í•œë‹¤.
- ê³¼ê±°í˜•ìœ¼ë¡œ í‘œì‹œ
- Aggregateì˜ í¼ë¸”ë¦­ ì¸í„°í˜ì´ìŠ¤ì˜ ì¼ë¶€, AggregateëŠ” ìì‹ ì˜ Domain Eventë¥¼ ë°œí–‰

##### ì˜ˆì œ
- ì£¼ë¬¸: ì£¼ë¬¸ë¨, ì·¨ì†Œë¨
- ê²°ì œ: ê²°ì œë¨, ê²°ì œ ì‹¤íŒ¨ë¨
- íšŒì›: íšŒì› ê°€ì…ë¨, íšŒì› ì •ë³´ ìˆ˜ì •ë¨

### â—‰ ì• ê·¸ë¦¬ê±°íŠ¸ íŒ¨í„´ êµ¬ì„±ìš”ì†Œ - ë„ë©”ì¸ ì„œë¹„ìŠ¤
íŠ¹ì • Entities/Value Objectsì— ì†í•˜ì§€ ì•ŠëŠ” ë„ë©”ì¸ ë¡œì§ ë˜ëŠ” ë³µìˆ˜ì˜ Aggregate ì— ê´€ë ¨ëœ ë¹„ì§€ë‹ˆìŠ¤ ë¡œì§ ì œê³µ
- ì–´ë–¤ ê³„ì‚°ì´ë‚˜ ë¶„ì„ì„ ìœ„í•´ ë‹¤ì–‘í•œ ì‹œìŠ¤í…œ êµ¬ì„±ìš”ì†Œì˜ í˜¸ì¶œì„ ì¡°ìœ¨

#### âœ¦ íŠ¹ì§•
- ìƒíƒœê°€ ì—†ëŠ” ê°ì²´
- ë¹„ì¦ˆë‹ˆìŠ¤ ì²˜ë¦¬ë¥¼ ìœ„í•´ ë‹¤ìˆ˜ì˜ Aggregate ì´ í¬í•¨ë˜ì–´ì•¼ í•˜ëŠ” ê²½ìš° Service ê°ì²´ë¥¼ ë§Œë“¤ì–´ì„œ ì²˜ë¦¬í•¨
- ì—¬ëŸ¬ Aggregateì˜ ë°ì´í„°ë¥¼ ì½ëŠ” ê²ƒì´ í•„ìš”í•œ ê³„ì‚° ë¡œì§ êµ¬í˜„ì„ ë„ì™€ì¤Œ

#### âœ¦ ì˜ˆì œ
- ì¬ê³ , ë°°ì†¡ë¹„ ê³„ì‚°, í• ì¸ ì •ì±… ì ìš© ë“±
<img src="../resources/images/ë„ë©”ì¸ ì„œë¹„ìŠ¤.png" alt="Aggregate ë„ë©”ì¸ ì„œë¹„ìŠ¤" style="width: 100%; height: auto;" />

### â—‰ ì• ê·¸ë¦¬ê±°íŠ¸ íŒ¨í„´ êµ¬ì„±ìš”ì†Œ - ë ˆí¬ì§€í† ë¦¬
ë ˆí¬ì§€í† ë¦¬ëŠ” Aggregateë¥¼ ì˜ì†í™”í•˜ê³  ì¡°íšŒí•˜ëŠ” ì—­í• ì„ í•˜ëŠ” ê°ì²´ë¡œ ë„ë©”ì¸ ëª¨ë¸ê³¼ ë°ì´í„°ë² ì´ìŠ¤ ê°„ì˜ ë§¤í•‘ì„ ë‹´ë‹¹í•œë‹¤.
- ë„ë©”ì¸ ëª¨ë¸ì„ ì‚¬ìš©í•˜ê¸° ìœ„í•´ì„œ Repositoryë¥¼ í†µí•´ ë„ë©”ì¸ ê°ì²´ë¥¼ ì¡°íšŒ í•œ í›„ ë„ë©”ì¸ ê°ì²´ì˜ ê¸°ëŠ¥ì„ ì‹¤í–‰
- ë„ë©”ì¸ ê°ì²´(Aggregate)ì— ëŒ€í•œ ìƒëª…ì£¼ê¸°, ì¦‰ ì˜ì†ì„± ê´€ë¦¬ (ë“±ë¡, ì¡°íšŒ, ìˆ˜ì •, ì‚­ì œ ì‹œ Aggregateì˜ ì¼ê´€ì„± ìœ ì§€)
- Spring Data JPAì˜ Repositoryì¸í„°í˜ì´ìŠ¤

### â—‰ ì• ê·¸ë¦¬ê±°íŠ¸ íŒ¨í„´ êµ¬ì„±ìš”ì†Œ - íŒ©í† ë¦¬
ë³µì¡í•œ Entityë‚˜ Aggregateë¥¼ ìƒì„±í•˜ëŠ” ë¡œì§ì„ ìº¡ìŠí™”í•˜ì—¬ ê°ì²´ ìƒì„±ì˜ ë³µì¡ì„±ì„ ì¤„ì´ëŠ” ì—­í• ì„ í•œë‹¤.

#### âœ¦ íŠ¹ì§•
- ê°ì²´ì˜ ìƒì„± ê³¼ì •ê³¼ ê´€ë ¨ëœ ì§€ì‹ì´ ì •ë¦¬ëœ ê°ì²´ë¡œ íŠ¹ì • ì •ë³´ë¥¼ Factoryì— ë³´ë‚´ë©´ ê²°ê³¼ë¡œ Entity ë˜ëŠ” Aggregate ì„ ìƒì„±í•¨
- ë³µì¡í•œ ìƒì„± ë¡œì§ì„ ìˆ¨ê²¨ ê°œë°œìë“¤ì´ ë‚´ë¶€ì˜ ë³µì¡í•¨ì— ì‹ ê²½ ì“°ì§€ ì•Šì•„ë„ ë¨

### â—‰ ì• ê·¸ë¦¬ê±°íŠ¸ íŒ¨í„´ êµ¬ì„±ìš”ì†Œ - ì‘ìš© ì„œë¹„ìŠ¤
Repositoryì—ì„œ ë°ì´í„°ë¥¼ ì¡°íšŒí•˜ê³  ë„ë©”ì¸ ë¡œì§ì„ í˜¸ì¶œí•œ í›„ ê²°ê³¼ë¥¼ ì €ì¥í•˜ëŠ” ê³¼ì •ì„ í•˜ë‚˜ì˜ íŠ¸ëœì­ì…˜ìœ¼ë¡œ ë¬¶ì–´ì„œ ì²˜ë¦¬í•˜ëŠ” ì„œë¹„ìŠ¤ë‹¤.
- ë„ë©”ì¸ ëª¨ë¸ì— ì†í•˜ì§€ ì•ŠìŒ.
- Repository ì™€ ë°€ì ‘í•œ ì—°ê´€
- íŠ¸ëœì­ì…˜ ì²˜ë¦¬
- ì‘ìš©ê³„ì¸µ
- Aggregate ë¥¼ ì €ì¥í•˜ëŠ” ë©”ì†Œë“œ, Aggregate Root ì‹ë³„ìë¡œ Aggregateë¥¼ ì¡°íšŒí•˜ëŠ” Method ì œê³µ

#### âœ¦ ì˜ˆì œ
- ì£¼ë¬¸ ì„œë¹„ìŠ¤
- ê²°ì œ ì„œë¹„ìŠ¤
- íšŒì› ì„œë¹„ìŠ¤

## â­•ì´ë²¤íŠ¸ ì†Œì‹± ëª¨ë¸
ì´ë²¤íŠ¸ ì†Œì‹± ëª¨ë¸ì€ ë„ë©”ì¸ ì´ë²¤íŠ¸ë¥¼ ì¤‘ì‹¬ìœ¼ë¡œ ì‹œìŠ¤í…œì˜ ìƒíƒœë¥¼ ê´€ë¦¬í•˜ëŠ” íŒ¨í„´ì´ë‹¤. ëª¨ë“  ìƒíƒœ ë³€í™”ëŠ” ì´ë²¤íŠ¸ë¡œ ê¸°ë¡ë˜ë©° í˜„ì¬ ìƒíƒœëŠ” ì´ë²¤íŠ¸ì˜ ì‹œí€€ìŠ¤ë¥¼ í†µí•´ ì¬êµ¬ì„±ëœë‹¤.
- ìƒíƒœ ë³€í™” ì´ë²¤íŠ¸ë§Œ ì €ì¥ (ê¸°ì¡´ ë°©ì‹ì€ ìƒíƒœ ê¸°ë°˜, ìƒíƒœë¥¼ DBì— ì €ì¥)
- í˜„ì¬ ìƒíƒœëŠ” ì´ë²¤íŠ¸ë“¤ì„ ìˆœì„œëŒ€ë¡œ ì¬ìƒí•´ì„œ ë³µì›

### â—‰ íŠ¹ì§•
- ë¶ˆë³€ì„±: ì´ë²¤íŠ¸ëŠ” ë³€ê²½ë˜ì§€ ì•Šìœ¼ë©° ëª¨ë“  ìƒíƒœ ë³€í™”ëŠ” ì´ë²¤íŠ¸ë¡œ ê¸°ë¡ë¨
- ì¬í˜„ ê°€ëŠ¥ì„±: ì´ë²¤íŠ¸ë¥¼ ì¬ìƒí•˜ì—¬ ì‹œìŠ¤í…œì˜ ìƒíƒœë¥¼ ì–¸ì œë“ ì§€ ì¬êµ¬ì„±í•  ìˆ˜ ìˆìŒ
- ì¶”ì : ì´ë²¤íŠ¸ ë¡œê·¸ë¥¼ í†µí•´ ì‹œìŠ¤í…œì˜ ëª¨ë“  ìƒíƒœ ë³€í™” ì´ë ¥ì„ ì¶”ì í•  ìˆ˜ ìˆìŒ

### â—‰ ì˜ˆì œ
- ì£¼ë¬¸ ìƒì„± ì´ë²¤íŠ¸, ê²°ì œ ì™„ë£Œ ì´ë²¤íŠ¸, ë°°ì†¡ ì‹œì‘ ì´ë²¤íŠ¸ ë“±

##### â“ì–´ëŠ ì‹œì ì— ì–´ë–¤ íŒ¨í„´ì„ ì‚¬ìš© í•´ì•¼ í•˜ëŠ”ê°€?
 ğŸŸ¢ ê°„ë‹¨í•œ CRUD ì¤‘ì‹¬ (ë³µì¡ë„: ë‚®ìŒ) - ì¶”ì²œ íŒ¨í„´: íŠ¸ëœì­ì…˜ ìŠ¤í¬ë¦½íŠ¸ íŒ¨í„´
- ì–¸ì œ: ê²Œì‹œíŒ, ì‚¬ìš©ì ê´€ë¦¬, ì„¤ì • ê´€ë¦¬
- íŠ¹ì§•: ë¹ ë¥¸ ê°œë°œ, ì§ê´€ì  êµ¬ì¡°
- ì˜ˆì‹œ: ë¸”ë¡œê·¸, ê°„ë‹¨í•œ ê´€ë¦¬ì í˜ì´ì§€

ğŸŸ¡ ì¤‘ê°„ ë³µì¡ë„ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ - ì¶”ì²œ íŒ¨í„´: ì•¡í‹°ë¸Œ ë ˆì½”ë“œ íŒ¨í„´
- ì–¸ì œ: ORM í™œìš©, ì ë‹¹í•œ ë¹„ì¦ˆë‹ˆìŠ¤ ê·œì¹™
- íŠ¹ì§•: Rails, Django ìŠ¤íƒ€ì¼
- ì˜ˆì‹œ: ì†Œê·œëª¨ ì‡¼í•‘ëª°, ì˜ˆì•½ ì‹œìŠ¤í…œ

ğŸŸ  ë³µì¡í•œ ë¹„ì¦ˆë‹ˆìŠ¤ ë„ë©”ì¸ (ë³µì¡ë„: ë†’ìŒ) - ì¶”ì²œ íŒ¨í„´: ë„ë©”ì¸ ëª¨ë¸ íŒ¨í„´
- ì–¸ì œ: ë³µì¡í•œ ê·œì¹™, ì—¬ëŸ¬ ê°ì²´ ê°„ ìƒí˜¸ì‘ìš©
- íŠ¹ì§•: ê°ì²´ì§€í–¥ ì„¤ê³„ ì›ì¹™ ì ìš©
- ì˜ˆì‹œ: ì€í–‰ ì‹œìŠ¤í…œ, ëŒ€í˜• ì´ì»¤ë¨¸ìŠ¤

ğŸ”´ ë§¤ìš° ë³µì¡í•œ ì—”í„°í”„ë¼ì´ì¦ˆ (ë³µì¡ë„: ë§¤ìš° ë†’ìŒ) - ì¶”ì²œ íŒ¨í„´: ì• ê·¸ë¦¬ê±°íŠ¸ íŒ¨í„´
- ì–¸ì œ: ì—¬ëŸ¬ íŒ€, í° ê·œëª¨, ë³µì¡í•œ ë„ë©”ì¸
- íŠ¹ì§•: DDD ì „ë©´ ì ìš©, ë°”ìš´ë””ë“œ ì»¨í…ìŠ¤íŠ¸
- ì˜ˆì‹œ: ëŒ€ê¸°ì—… ERP, ê¸ˆìœµ í”Œë«í¼

âš« íŠ¹ìˆ˜ ìš”êµ¬ì‚¬í•­ (ê°ì‚¬ì¶”ì /ë¶„ì„ ì¤‘ìš”) - ì¶”ì²œ íŒ¨í„´: ì´ë²¤íŠ¸ ì†Œì‹±
- ì–¸ì œ: ì™„ë²½í•œ ì´ë ¥ ê´€ë¦¬, ë³µì¡í•œ ë¶„ì„
- íŠ¹ì§•: ëª¨ë“  ë³€í™” ê¸°ë¡, ì‹œê°„ ì—¬í–‰ ê°€ëŠ¥
- ì˜ˆì‹œ: ê¸ˆìœµ ê±°ë˜, ì˜ë£Œ ê¸°ë¡

##### â“ìš°ë¦¬ê°€ ê°œë°œí•˜ëŠ” ì„œë¹„ìŠ¤ëŠ” ì–´ë–¤ íŒ¨í„´ì¸ê°€?
**í˜„ì¬ êµ¬ì¡°ì˜ íŠ¹ì§•**
- ë„ë©”ì¸ë³„ ëª…í™•í•œ ë¶„ë¦¬
- ì„œë¹„ìŠ¤ê°„ í˜‘ë ¥ì  ê´€ê³„
- ì„œë¹„ìŠ¤ ë‹¨ìœ„ì˜ íŠ¸ëœì­ì…˜ ê²½ê³„
- DTO í™œìš©
- ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ì´ ì„œë¹„ìŠ¤ì— ì§‘ì¤‘
- ì—”í‹°ë‹ˆëŠ” ë°ì´í„° ì»¨í…Œì´ë„ˆ ì—­í• ë§Œ ìˆ˜í–‰

â†’ ê²°ë¡ : í•˜ì´ë¸Œë¦¬ë“œ íŠ¸ëœì­ì…˜ ìŠ¤í¬ë¦½íŠ¸ + ë„ë©”ì¸ë³„ ë¶„ë¦¬ íŒ¨í„´

##### â—ï¸ë„ë©”ì¸ ëª¨ë¸ íŒ¨í„´ìœ¼ë¡œ ê°œì„ í•  ê²½ìš°
**í˜„ì¬ êµ¬ì¡°ì˜ ë¬¸ì œì **
- Entityê°€ ë¹ˆì•½í•œ ë„ë©”ì¸ ëª¨ë¸ë¡œ ë‹¨ìˆœ ë°ì´í„° ì €ì¥ì†Œ ì—­í• ë§Œ í•¨
- ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ì´ ì„œë¹„ìŠ¤ì— ë¶„ì‚°ë˜ì–´ ì ˆì°¨ì ìœ¼ë¡œ êµ¬í˜„ë¨
- ë„ë©”ì¸ ê·œì¹™ê³¼ ì œì•½ì‚¬í•­ì´ ì½”ë“œë¡œ ëª…ì‹œì  í‘œí˜„ë˜ì§€ ì•ŠìŒ
- DTO ì¤‘ì‹¬ ì„¤ê³„ë¡œ ë„ë©”ì¸ ê°œë…ì´ í¬ì„ë¨
- ë³µì¡í•œ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ì˜ ì¬ì‚¬ìš©ì„±ê³¼ í…ŒìŠ¤íŠ¸ ìš©ì´ì„± ë¶€ì¡±

**ê°œì„ ì **
- Entityì— í•´ë‹¹ ë„ë©”ì¸ì˜ í•µì‹¬ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ ì´ë™ (ê²€ì¦, ìƒíƒœ ë³€ê²½, ê³„ì‚°)
```kotlin
// AS-IS
@Entity
class Order {
    var id: Long? = null
    var customerId: Long = 0
    var totalAmount: BigDecimal = BigDecimal.ZERO
    var status: String = "PENDING"
    var orderDate: LocalDateTime = LocalDateTime.now()

    // getter/setterë§Œ ì¡´ì¬
}

@Service
class OrderService {
    fun cancelOrder(orderId: Long) {
        val order = orderRepository.findById(orderId)

        // ì„œë¹„ìŠ¤ì— ëª¨ë“  ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§
        if (order.status == "SHIPPED") {
            throw IllegalStateException("ë°°ì†¡ëœ ì£¼ë¬¸ì€ ì·¨ì†Œí•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤")
        }
        if (ChronoUnit.HOURS.between(order.orderDate, LocalDateTime.now()) > 24) {
            throw IllegalStateException("24ì‹œê°„ì´ ì§€ë‚œ ì£¼ë¬¸ì€ ì·¨ì†Œí•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤")
        }

        order.status = "CANCELLED"
        orderRepository.save(order)
    }
}

// TO-BE
@Entity
class Order {
    var id: Long? = null
    var customerId: Long = 0
    private var totalAmount: BigDecimal = BigDecimal.ZERO
    private var status: OrderStatus = OrderStatus.PENDING
    private var orderDate: LocalDateTime = LocalDateTime.now()

    // ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ì„ Entityë¡œ ì´ë™
    fun cancel() {
        validateCancelable()
        this.status = OrderStatus.CANCELLED
    }

    fun ship() {
        if (status != OrderStatus.CONFIRMED) {
            throw IllegalStateException("í™•ì •ëœ ì£¼ë¬¸ë§Œ ë°°ì†¡í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤")
        }
        this.status = OrderStatus.SHIPPED
    }

    fun isCancelable(): Boolean {
        return status == OrderStatus.PENDING || status == OrderStatus.CONFIRMED
    }

    fun isWithinCancelWindow(): Boolean {
        return ChronoUnit.HOURS.between(orderDate, LocalDateTime.now()) <= 24
    }

    private fun validateCancelable() {
        if (!isCancelable()) {
            throw IllegalStateException("${status.name} ìƒíƒœì˜ ì£¼ë¬¸ì€ ì·¨ì†Œí•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤")
        }
        if (!isWithinCancelWindow()) {
            throw IllegalStateException("24ì‹œê°„ì´ ì§€ë‚œ ì£¼ë¬¸ì€ ì·¨ì†Œí•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤")
        }
    }
}

@Service
class OrderService {
    fun cancelOrder(orderId: Long) {
        val order = orderRepository.findById(orderId)
        order.cancel() // ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ì€ Entityì— ìœ„ì„
    }
}
```
- DTOë¥¼ Value Objectë¡œ ì „í™˜í•˜ì—¬ ë¶ˆë³€ì„±ê³¼ ë„ë©”ì¸ ì˜ë¯¸ ê°•í™”
```kotlin
// AS-IS
data class OrderDTO(
    var customerId: Long,
    var items: MutableList<OrderItemDTO>,
    var shippingAddress: String,
    var paymentMethod: String
) {
    // ë‹¨ìˆœ ë°ì´í„° ì „ë‹¬ë§Œ
}

data class OrderItemDTO(
    var productId: Long,
    var quantity: Int,
    var price: BigDecimal
)

// TO-BE
data class ShippingAddress(
    val street: String,
    val city: String,
    val zipCode: String,
    val country: String
) {
    init {
        require(zipCode.matches(Regex("\\d{5}"))) { "ìš°í¸ë²ˆí˜¸ëŠ” 5ìë¦¬ ìˆ«ìì—¬ì•¼ í•©ë‹ˆë‹¤" }
        require(street.isNotBlank()) { "ì£¼ì†ŒëŠ” í•„ìˆ˜ì…ë‹ˆë‹¤" }
    }

    fun isInternational(): Boolean = country != "KR"

    fun getFullAddress(): String = "$street, $city $zipCode, $country"
}

data class Money(
    val amount: BigDecimal,
    val currency: String = "KRW"
) {
    init {
        require(amount >= BigDecimal.ZERO) { "ê¸ˆì•¡ì€ 0 ì´ìƒì´ì–´ì•¼ í•©ë‹ˆë‹¤" }
    }

    fun add(other: Money): Money {
        require(currency == other.currency) { "í†µí™”ê°€ ë‹¤ë¦…ë‹ˆë‹¤" }
        return Money(amount + other.amount, currency)
    }

    fun multiply(multiplier: Int): Money {
        return Money(amount * BigDecimal(multiplier), currency)
    }

    fun isGreaterThan(other: Money): Boolean {
        require(currency == other.currency) { "í†µí™”ê°€ ë‹¤ë¦…ë‹ˆë‹¤" }
        return amount > other.amount
    }
}

data class OrderItem(
    val productId: Long,
    val quantity: Int,
    val unitPrice: Money
) {
    init {
        require(quantity > 0) { "ìˆ˜ëŸ‰ì€ 1ê°œ ì´ìƒì´ì–´ì•¼ í•©ë‹ˆë‹¤" }
    }

    fun getSubtotal(): Money = unitPrice.multiply(quantity)

    fun isBulkOrder(): Boolean = quantity >= 10
}
```
- ë³µì¡í•œ ê³„ì‚° ë¡œì§ì€ ë„ë©”ì¸ ì„œë¹„ìŠ¤ë¡œ ë¶„ë¦¬
```kotlin
// AS-IS
@Service
class OrderService {
    fun calculateOrderTotal(orderItems: List<OrderItemDTO>): BigDecimal {
        var total = BigDecimal.ZERO

        // ë³µì¡í•œ í• ì¸ ê³„ì‚° ë¡œì§
        orderItems.forEach { item ->
            val subtotal = item.price.multiply(BigDecimal(item.quantity))

            // ëŒ€ëŸ‰ ì£¼ë¬¸ í• ì¸
            val discount = if (item.quantity >= 10) {
                subtotal.multiply(BigDecimal("0.1"))
            } else BigDecimal.ZERO

            total = total.add(subtotal.subtract(discount))
        }

        // VIP í• ì¸
        if (isVipCustomer()) {
            total = total.multiply(BigDecimal("0.95"))
        }

        return total
    }
}

// TO-BE
@Component
class PricingService {
    fun calculateOrderTotal(orderItems: List<OrderItem>, customer: Customer): Money {
        val subtotal = calculateSubtotal(orderItems)
        val discountAmount = calculateDiscount(orderItems, customer)
        return subtotal.subtract(discountAmount)
    }

    private fun calculateSubtotal(orderItems: List<OrderItem>): Money {
        return orderItems.fold(Money(BigDecimal.ZERO)) { acc, item ->
            acc.add(item.getSubtotal())
        }
    }

    private fun calculateDiscount(orderItems: List<OrderItem>, customer: Customer): Money {
        val bulkDiscount = calculateBulkDiscount(orderItems)
        val vipDiscount = calculateVipDiscount(orderItems, customer)
        val seasonalDiscount = calculateSeasonalDiscount(orderItems)

        return bulkDiscount.add(vipDiscount).add(seasonalDiscount)
    }

    private fun calculateBulkDiscount(orderItems: List<OrderItem>): Money {
        return orderItems
            .filter { it.isBulkOrder() }
            .fold(Money(BigDecimal.ZERO)) { acc, item ->
                acc.add(item.getSubtotal().multiply(0.1))
            }
    }

    private fun calculateVipDiscount(orderItems: List<OrderItem>, customer: Customer): Money {
        if (!customer.isVip()) return Money(BigDecimal.ZERO)

        val subtotal = calculateSubtotal(orderItems)
        return subtotal.multiply(0.05)
    }

    private fun calculateSeasonalDiscount(orderItems: List<OrderItem>): Money {
        // ë³µì¡í•œ ê³„ì ˆë³„ í• ì¸ ë¡œì§
        return Money(BigDecimal.ZERO)
    }
}

@Component
class ShippingService {
    fun calculateShippingFee(items: List<OrderItem>, address: ShippingAddress): Money {
        val totalWeight = calculateTotalWeight(items)
        val baseFee = getBaseFee(address)
        val weightFee = calculateWeightFee(totalWeight)

        return baseFee.add(weightFee)
    }

    private fun calculateTotalWeight(items: List<OrderItem>): Double {
        // ë³µì¡í•œ ë¬´ê²Œ ê³„ì‚° ë¡œì§
        return items.sumOf { it.quantity * getProductWeight(it.productId) }
    }

    private fun getBaseFee(address: ShippingAddress): Money {
        return if (address.isInternational()) {
            Money(BigDecimal("15000"))
        } else {
            Money(BigDecimal("3000"))
        }
    }
}
```
- ì„œë¹„ìŠ¤ëŠ” ë„ë©”ì¸ ê°ì²´ë“¤ì˜ í˜‘ë ¥ì„ ì¡°ìœ¨í•˜ëŠ” ì—­í• ë¡œ ì œí•œ
```kotlin
// AS-IS
@Service
@Transactional
class OrderService(
    private val pricingService: PricingService,
    private val shippingService: ShippingService,
    private val inventoryService: InventoryService,
    private val customerService: CustomerService
) {
    fun createOrder(customerId: Long, orderItems: List<OrderItem>, shippingAddress: ShippingAddress): Long {
        // 1. ë„ë©”ì¸ ê°ì²´ë“¤ ì¡°íšŒ
        val customer = customerService.findById(customerId)

        // 2. ë„ë©”ì¸ ì„œë¹„ìŠ¤ë“¤ì„ í†µí•œ ê³„ì‚°
        val totalAmount = pricingService.calculateOrderTotal(orderItems, customer)
        val shippingFee = shippingService.calculateShippingFee(orderItems, shippingAddress)

        // 3. ì¬ê³  í™•ì¸ (ë‹¤ë¥¸ ë„ë©”ì¸ ì„œë¹„ìŠ¤)
        inventoryService.reserveItems(orderItems)

        // 4. ì£¼ë¬¸ ìƒì„± (íŒ©í† ë¦¬ ë©”ì„œë“œ ì‚¬ìš©)
        val order = Order.create(
            customerId = customerId,
            items = orderItems,
            totalAmount = totalAmount.add(shippingFee),
            shippingAddress = shippingAddress
        )

        return orderRepository.save(order).id!!
    }

    fun cancelOrder(orderId: Long) {
        val order = orderRepository.findById(orderId)

        // ë„ë©”ì¸ ê°ì²´ì— ìœ„ì„
        order.cancel()

        // ì¬ê³  ë³µì› (ë‹¤ë¥¸ ë„ë©”ì¸ í˜‘ë ¥)
        inventoryService.releaseReservation(order.getOrderItems())
    }
}

// TO-BE
@Service
@Transactional
class OrderService(
    private val pricingService: PricingService,
    private val shippingService: ShippingService,
    private val inventoryService: InventoryService,
    private val customerService: CustomerService
) {
    fun createOrder(customerId: Long, orderItems: List<OrderItem>, shippingAddress: ShippingAddress): Long {
        // 1. ë„ë©”ì¸ ê°ì²´ë“¤ ì¡°íšŒ
        val customer = customerService.findById(customerId)

        // 2. ë„ë©”ì¸ ì„œë¹„ìŠ¤ë“¤ì„ í†µí•œ ê³„ì‚°
        val totalAmount = pricingService.calculateOrderTotal(orderItems, customer)
        val shippingFee = shippingService.calculateShippingFee(orderItems, shippingAddress)

        // 3. ì¬ê³  í™•ì¸ (ë‹¤ë¥¸ ë„ë©”ì¸ ì„œë¹„ìŠ¤)
        inventoryService.reserveItems(orderItems)

        // 4. ì£¼ë¬¸ ìƒì„± (íŒ©í† ë¦¬ ë©”ì„œë“œ ì‚¬ìš©)
        val order = Order.create(
            customerId = customerId,
            items = orderItems,
            totalAmount = totalAmount.add(shippingFee),
            shippingAddress = shippingAddress
        )

        return orderRepository.save(order).id!!
    }

    fun cancelOrder(orderId: Long) {
        val order = orderRepository.findById(orderId)

        // ë„ë©”ì¸ ê°ì²´ì— ìœ„ì„
        order.cancel()

        // ì¬ê³  ë³µì› (ë‹¤ë¥¸ ë„ë©”ì¸ í˜‘ë ¥)
        inventoryService.releaseReservation(order.getOrderItems())
    }
}
```

- ë„ë©”ì¸ ì „ë¬¸ê°€ê°€ ì´í•´í•  ìˆ˜ ìˆëŠ” ì½”ë“œ ì‘ì„±
```kotlin
// AS-IS
fun processPayment(orderId: Long, paymentData: Map<String, Any>) {
    val order = orderRepository.findById(orderId)

    // ë¬¸ì œ 1: ë§¤ì§ ìŠ¤íŠ¸ë§ ì‚¬ìš© - "PENDING"ì´ ë­˜ ì˜ë¯¸í•˜ëŠ”ì§€ ë¶ˆë¶„ëª…
    // ë¬¸ì œ 2: ë³µí•© ì¡°ê±´ì„ í•œ ë²ˆì— ê²€ì‚¬ - ë¹„ì¦ˆë‹ˆìŠ¤ ì˜ë„ê°€ ëª…í™•í•˜ì§€ ì•ŠìŒ
    if (order.status == "PENDING" && order.totalAmount > BigDecimal.ZERO) {

        // ë¬¸ì œ 3: Map íƒ€ì…ìœ¼ë¡œ ë°ì´í„° ì „ë‹¬ - íƒ€ì… ì•ˆì „ì„± ë¶€ì¡±
        val result = paymentGateway.charge(paymentData)

        // ë¬¸ì œ 4: ë§¤ì§ ìŠ¤íŠ¸ë§ìœ¼ë¡œ ê²°ê³¼ í™•ì¸ - ì˜¤íƒ€ ê°€ëŠ¥ì„±, IDE ì§€ì› ë¶€ì¡±
        if (result["status"] == "success") {
            // ë¬¸ì œ 5: ì§ì ‘ ìƒíƒœ ë³€ê²½ - ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ì´ ì„œë¹„ìŠ¤ì— ë…¸ì¶œ
            order.status = "PAID"
        }
        // ë¬¸ì œ 6: ì‹¤íŒ¨ ì²˜ë¦¬ ëˆ„ë½ - ê²°ì œ ì‹¤íŒ¨ ì‹œ ì–´ë–»ê²Œ í•  ê²ƒì¸ì§€ ëª…ì‹œë˜ì§€ ì•ŠìŒ
    }
    // ë¬¸ì œ 7: ë°˜í™˜ê°’ ì—†ìŒ - í˜¸ì¶œìê°€ ê²°ê³¼ë¥¼ ì•Œ ìˆ˜ ì—†ìŒ
}

// TO-BE
fun processPayment(orderId: Long, paymentMethod: PaymentMethod): PaymentResult {
    val order = orderRepository.findById(orderId)

    // ê°œì„  1: ë¹„ì¦ˆë‹ˆìŠ¤ ì˜ë¯¸ê°€ ëª…í™•í•œ ë©”ì„œë“œëª… ì‚¬ìš©
    // "ê²°ì œ ì¤€ë¹„ê°€ ë˜ì—ˆëŠ”ê°€?"ë¼ëŠ” ë¹„ì¦ˆë‹ˆìŠ¤ ì§ˆë¬¸ì„ ì½”ë“œë¡œ í‘œí˜„
    if (!order.isReadyForPayment()) {
        // ê°œì„  2: ëª…í™•í•œ ì‹¤íŒ¨ ì´ìœ  ë°˜í™˜
        return PaymentResult.failure("ì£¼ë¬¸ì´ ê²°ì œ ê°€ëŠ¥í•œ ìƒíƒœê°€ ì•„ë‹™ë‹ˆë‹¤")
    }

    // ê°œì„  3: ì˜ë¯¸ìˆëŠ” ë³€ìˆ˜ëª…ê³¼ ë©”ì„œë“œëª…
    val paymentAmount = order.getTotalAmount()

    // ê°œì„  4: íƒ€ì… ì•ˆì „í•œ ê°ì²´ ì‚¬ìš© (PaymentMethod)
    val paymentResult = paymentProcessor.processPayment(paymentAmount, paymentMethod)

    // ê°œì„  5: sealed classë¥¼ í†µí•œ íƒ€ì… ì•ˆì „í•œ ê²°ê³¼ ì²˜ë¦¬
    when (paymentResult) {
        is PaymentResult.Success -> {
            // ê°œì„  6: ë„ë©”ì¸ ê°ì²´ì— ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ ìœ„ì„
            order.markAsPaid(paymentResult.transactionId)
            return PaymentResult.success(paymentResult.transactionId)
        }
        is PaymentResult.Failure -> {
            // ê°œì„  7: ì‹¤íŒ¨ ìƒí™©ë„ ë„ë©”ì¸ ë¡œì§ìœ¼ë¡œ ì²˜ë¦¬
            order.recordPaymentFailure(paymentResult.reason)
            return paymentResult
        }
    }
}

// ê°œì„  8: ì—”í‹°í‹°ì— ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ ì´ë™
@Entity
class Order {
    // ê°œì„  9: ë¹„ì¦ˆë‹ˆìŠ¤ ê·œì¹™ì„ ëª…í™•íˆ í‘œí˜„í•˜ëŠ” ë©”ì„œë“œ
    // ë„ë©”ì¸ ì „ë¬¸ê°€ê°€ "ì–¸ì œ ê²°ì œê°€ ê°€ëŠ¥í•œê°€?"ë¼ê³  ë¬¼ì–´ë³´ë©´
    // ì´ ì½”ë“œë¥¼ ë³´ì—¬ì£¼ë©° ì„¤ëª…í•  ìˆ˜ ìˆìŒ
    fun isReadyForPayment(): Boolean {
        return status == OrderStatus.CONFIRMED && // ì£¼ë¬¸ì´ í™•ì •ë˜ì–´ì•¼ í•˜ê³ 
                totalAmount.isGreaterThan(Money.ZERO) // ê²°ì œí•  ê¸ˆì•¡ì´ ìˆì–´ì•¼ í•¨
    }

    // ê°œì„  10: ë‹¨ìˆœ ìƒíƒœ ë³€ê²½ì´ ì•„ë‹Œ ë¹„ì¦ˆë‹ˆìŠ¤ í–‰ìœ„ë¡œ í‘œí˜„
    // "ê²°ì œ ì™„ë£Œ ì²˜ë¦¬"ë¼ëŠ” ì˜ë¯¸ìˆëŠ” í–‰ìœ„
    fun markAsPaid(transactionId: String) {
        this.status = OrderStatus.PAID
        this.paymentTransactionId = transactionId // ì¶”ì  ê°€ëŠ¥í•œ ì •ë³´ ì €ì¥
        this.paidAt = LocalDateTime.now() // ê²°ì œ ì‹œì  ê¸°ë¡
    }

    // ê°œì„  11: ì‹¤íŒ¨ ìƒí™©ë„ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ìœ¼ë¡œ ê´€ë¦¬
    fun recordPaymentFailure(reason: String) {
        this.paymentFailureReason = reason
        this.paymentAttempts += 1 // ì¬ì‹œë„ íšŸìˆ˜ ì¶”ì 

        // ë¹„ì¦ˆë‹ˆìŠ¤ ê·œì¹™: 3ë²ˆ ì‹¤íŒ¨í•˜ë©´ ì£¼ë¬¸ ì·¨ì†Œ
        if (paymentAttempts >= 3) {
            this.status = OrderStatus.PAYMENT_FAILED
        }
    }
}

// ê°œì„  12: íƒ€ì… ì•ˆì „í•œ ê²°ê³¼ ê°ì²´
sealed class PaymentResult {
    data class Success(val transactionId: String) : PaymentResult()
    data class Failure(val reason: String) : PaymentResult()

    companion object {
        fun success(transactionId: String) = Success(transactionId)
        fun failure(reason: String) = Failure(reason)
    }
}

// ê°œì„  13: íƒ€ì… ì•ˆì „í•œ ê²°ì œ ìˆ˜ë‹¨
sealed class PaymentMethod {
    data class CreditCard(val cardNumber: String, val expiryDate: String) : PaymentMethod()
    data class BankTransfer(val accountNumber: String) : PaymentMethod()
    object KakaoPay : PaymentMethod()
}
```

##### â—ï¸VO, DTO, Entity êµ¬ë¶„
- Value Object (VO): ë¶ˆë³€ ê°ì²´ë¡œ ì‹ë³„ìê°€ ì—†ê³  ê°’ ìì²´ë¡œ ë™ë“±ì„±ì„ íŒë‹¨. ë„ë©”ì¸ ê·œì¹™ê³¼ ì œì•½ì„ í¬í•¨.
- Data Transfer Object (DTO): ê³„ì¸µ ê°„ ë°ì´í„° ì „ì†¡ì„ ìœ„í•œ ê°ì²´ë¡œ ë¶ˆë³€ì„±ì„ ë³´ì¥í•˜ì§€ ì•Šìœ¼ë©° ë‹¨ìˆœ ë°ì´í„° êµ¬ì¡°. ì£¼ë¡œ í”„ë ˆì  í…Œì´ì…˜ ê³„ì¸µì—ì„œ ì‚¬ìš©.
- Entity: ê³ ìœ  ì‹ë³„ìë¥¼ ê°€ì§€ë©° ìƒíƒœê°€ ë³€í•  ìˆ˜ ìˆëŠ” ê°€ë³€ ê°ì²´. ë„ë©”ì¸ ëª¨ë¸ì˜ í•µì‹¬ ê°œë…ì„ í‘œí˜„í•˜ê³  ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ì„ í¬í•¨.

```kotlin
// ğŸ›’ ì‡¼í•‘ëª° ì˜ˆì‹œ

// VO - ë„ë©”ì¸ ê°œë…, ë¶ˆë³€, ê°’ìœ¼ë¡œ ë™ë“±ì„± íŒë‹¨
data class Money(
   val amount: BigDecimal,
   val currency: String = "KRW"
) {
   fun add(other: Money): Money {
       require(currency == other.currency)
       return Money(amount + other.amount, currency)
   }
}

data class Address(
   val street: String,
   val city: String,
   val zipCode: String
) {
   init {
       require(zipCode.matches(Regex("\\d{5}")))
   }
   
   fun isSeoul(): Boolean = city == "ì„œìš¸"
}

// Entity - ì‹ë³„ì ìˆìŒ, ê°€ë³€, ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§
@Entity
class Product {
   @Id
   var id: Long? = null
   private var name: String = ""
   private var price: Money = Money(BigDecimal.ZERO)
   
   fun changePrice(newPrice: Money) {
       require(newPrice.amount > BigDecimal.ZERO)
       this.price = newPrice
   }
}

@Entity  
class Order {
   @Id
   var id: Long? = null
   private var customerId: Long = 0
   private var shippingAddress: Address? = null // VO ì‚¬ìš©
   private var totalAmount: Money = Money(BigDecimal.ZERO) // VO ì‚¬ìš©
   
   fun ship(address: Address) {
       this.shippingAddress = address
   }
}

// DTO - API í†µì‹ ìš©, ê°€ë³€
data class ProductCreateRequestDTO(
   var name: String,
   var price: BigDecimal,
   var categoryId: Long
)

data class OrderResponseDTO(
   val orderId: Long,
   val customerName: String,
   val totalAmount: BigDecimal,
   val shippingAddress: String
)

// ì‚¬ìš© ì‹œì 
@RestController
class ProductController {
   @PostMapping("/products")
   fun createProduct(@RequestBody dto: ProductCreateRequestDTO): ProductResponseDTO {
       // 1. DTOë¡œ ë°ì´í„° ë°›ìŒ
       
       // 2. DTO â†’ VO ë³€í™˜
       val priceVO = Money(dto.price)
       
       // 3. Entity ìƒì„±
       val product = Product.create(dto.name, priceVO)
       
       // 4. Entity â†’ DTO ë³€í™˜í•´ì„œ ì‘ë‹µ
       return ProductResponseDTO(product.id, product.name, product.price.amount)
   }
}
```

##### â“VOë¥¼ ì‚¬ìš©í•´ì•¼ í•˜ëŠ” ì´ìœ 
**ë‹¨ì **
- íŒŒì¼ ìˆ˜ ì¦ê°€: ë„ë©”ì¸ ê°œë…ë§ˆë‹¤ ë³„ë„ í´ë˜ìŠ¤ íŒŒì¼ ìƒì„± í•„ìš”, êµ¬ì¡°ê°€ ë³µì¡í•´ì§ˆ ìˆ˜ ìˆìŒ 
- ì´ˆê¸° ê°œë°œ ë¹„ìš©: VO í´ë˜ìŠ¤ ì„¤ê³„ ë° êµ¬í˜„ì— ì¶”ê°€ ì‹œê°„ ì†Œìš”, ë‹¨ìˆœ ê¸°ëŠ¥ë„ í´ë˜ìŠ¤ë¡œ ê°ì‹¸ì•¼ í•¨ 
- ë©”ëª¨ë¦¬ ì˜¤ë²„í—¤ë“œ: ì›ì‹œ íƒ€ì… ëŒ€ì‹  ê°ì²´ ì‚¬ìš©ìœ¼ë¡œ ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰ ì¦ê°€, ê°ì²´ ìƒì„± ë¹„ìš© ë°œìƒ 
- í•™ìŠµ ë¹„ìš©: ê°œë°œíŒ€ì˜ VO ê°œë… í•™ìŠµ í•„ìš”, ì ì ˆí•œ ì‚¬ìš© ì‹œì  íŒë‹¨ ê²½í—˜ í•„ìš”

**ì¥ì **
- íƒ€ì… ì•ˆì „ì„±: ì»´íŒŒì¼ ì‹œì ì— ì˜ëª»ëœ ê°’ í• ë‹¹ ë°©ì§€, IDE ìë™ì™„ì„± ë° ì˜¤ë¥˜ ê²€ì¶œ ì§€ì› 
- ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ ì‘ì§‘: ê´€ë ¨ ë¡œì§ì´ VO ë‚´ë¶€ì— ì§‘ì¤‘, ì¤‘ë³µ ì½”ë“œ ì œê±° ë° ì¼ê´€ëœ ì²˜ë¦¬ ê°€ëŠ¥ 
- ë„ë©”ì¸ í‘œí˜„ë ¥: ì½”ë“œê°€ ë¹„ì¦ˆë‹ˆìŠ¤ ì–¸ì–´ë¥¼ ì§ì ‘ í‘œí˜„, ê°€ë…ì„±ê³¼ ì´í•´ë„ í–¥ìƒ 
- ì¬ì‚¬ìš©ì„±: ì—¬ëŸ¬ Entityì—ì„œ ë™ì¼í•œ VO í™œìš© ê°€ëŠ¥, ë„ë©”ì¸ ê°œë…ì˜ í‘œì¤€í™” 
- ë¶ˆë³€ì„± ë³´ì¥: ì˜ˆìƒì¹˜ ëª»í•œ ìƒíƒœ ë³€ê²½ ë°©ì§€, ë©€í‹°ìŠ¤ë ˆë“œ í™˜ê²½ì—ì„œ ì•ˆì „ 
- í…ŒìŠ¤íŠ¸ ìš©ì´ì„±: ê°œë³„ VOë§Œ ë…ë¦½ì ìœ¼ë¡œ í…ŒìŠ¤íŠ¸ ê°€ëŠ¥, ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ ì‘ì„± ê°„ì†Œí™”

**ê²°ë¡ **
ì´ˆê¸° ë¹„ìš©ì€ ì¦ê°€í•˜ì§€ë§Œ ì¥ê¸°ì ìœ¼ë¡œ ìœ ì§€ë³´ìˆ˜ì„±, ì•ˆì „ì„±, í™•ì¥ì„±ì—ì„œ ë” í° ì´ìµ ì œê³µ

##### â—ï¸ì• ê·¸ë¦¬ê±°íŠ¸ íŒ¨í„´ìœ¼ë¡œ ì „í™˜í•˜ëŠ” ë°©ë²•
- ì• ê·¸ë¦¬ê±°íŠ¸ ê²½ê³„ ì„¤ì • 
  - ê´€ë ¨ëœ ì—”í‹°í‹°ë“¤ì„ í•˜ë‚˜ì˜ ì¼ê´€ì„± ìˆëŠ” ë‹¨ìœ„ë¡œ ê·¸ë£¹í•‘
  - ì• ê·¸ë¦¬ê±°íŠ¸ ë£¨íŠ¸ë¥¼ í†µí•´ì„œë§Œ ë‚´ë¶€ ê°ì²´ ì ‘ê·¼ í—ˆìš© 
- Value Object ë„ì… 
  - ì •ë³´ë“¤ì„ ë¶ˆë³€ Value Objectë¡œ ëª¨ë¸ë§ 
  - ë³€ê²½ì´ í•„ìš”í•œ ê²½ìš° ìƒˆë¡œìš´ ê°ì²´ ìƒì„±í•˜ì—¬ êµì²´ 
  - ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ì„ Value Objectì— í¬í•¨ì‹œì¼œ ì‘ì§‘ë„ í–¥ìƒ 
- Repository ì¬êµ¬ì„± 
  - ì• ê·¸ë¦¬ê±°íŠ¸ ë£¨íŠ¸ ë‹¨ìœ„ë¡œë§Œ Repository ì œê³µ 
  - ê°œë³„ ì—”í‹°í‹°ë³„ Repository ì œê±° 
  - ë³µì¡í•œ ì¡°íšŒëŠ” ì• ê·¸ë¦¬ê±°íŠ¸ ë£¨íŠ¸ì˜ ë©”ì„œë“œë¡œ ìº¡ìŠí™” 
- ë„ë©”ì¸ ì´ë²¤íŠ¸ í™œìš© 
  - ì• ê·¸ë¦¬ê±°íŠ¸ ë‚´ë¶€ ìƒíƒœ ë³€ê²½ ì‹œ ë„ë©”ì¸ ì´ë²¤íŠ¸ ë°œí–‰ 
  - íš¡ë‹¨ ê´€ì‹¬ì‚¬ë¥¼ ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆë¡œ ë¶„ë¦¬ (ì•Œë¦¼, í†µê³„, ì˜ˆì¸¡ ëª¨ë¸ ì—…ë°ì´íŠ¸)
  - ë‹¤ë¥¸ ë°”ìš´ë””ë“œ ì»¨í…ìŠ¤íŠ¸ì™€ì˜ ëŠìŠ¨í•œ ê²°í•© ë‹¬ì„± 
- íŠ¸ëœì­ì…˜ ê²½ê³„ ì¡°ì • 
  - íŠ¸ëœì­ì…˜ ê²½ê³„ë¥¼ ì• ê·¸ë¦¬ê±°íŠ¸ ë‹¨ìœ„ë¡œ ì œí•œ 
  - í•˜ë‚˜ì˜ íŠ¸ëœì­ì…˜ì—ì„œëŠ” í•˜ë‚˜ì˜ ì• ê·¸ë¦¬ê±°íŠ¸ë§Œ ìˆ˜ì • 
  - ì—¬ëŸ¬ ì• ê·¸ë¦¬ê±°íŠ¸ ê°„ í˜‘ë ¥ì€ ë„ë©”ì¸ ì´ë²¤íŠ¸ë¥¼ í†µí•´ ìµœì¢… ì¼ê´€ì„± ë³´ì¥
